# i3 config file
# github.com/thetarkus/dotfiles


#
# settings
#

set $mod Mod4
font pango:monospace 8
floating_modifier $mod
focus_follows_mouse no


#
# application shortcuts
#

bindsym $mod+Return  exec $TERMINAL
bindsym $mod+w       exec rofi -show window
bindsym $mod+d       exec rofi -show drun
bindsym $mod+Shift+d exec rofi -show run
bindsym $mod+g       exec i3-layout-manager
bindsym $mod+i       exec edit_text.sh

bindsym Ctrl+Shift+4 exec flameshot gui
bindsym Pause        exec playerctl play-pause


#
# window management
#

# kill focused window
bindsym $mod+Shift+c [con_id="__focused__" title="^(?!math).*$"] kill

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# swap focused window (non-destructive)
bindsym $mod+Shift+h mark --add swap; focus left;  swap container with mark swap; unmark swap; focus left
bindsym $mod+Shift+j mark --add swap; focus down;  swap container with mark swap; unmark swap; focus down
bindsym $mod+Shift+k mark --add swap; focus up;    swap container with mark swap; unmark swap; focus up
bindsym $mod+Shift+l mark --add swap; focus right; swap container with mark swap; unmark swap; focus right

# move focused window (destructive)
bindsym $mod+Ctrl+h move left
bindsym $mod+Ctrl+j move down
bindsym $mod+Ctrl+k move up
bindsym $mod+Ctrl+l move right
bindsym $mod+y      move container to mark _move

# resize focused window
bindsym $mod+Ctrl+Shift+h resize shrink width  5 px or 5 ppt
bindsym $mod+Ctrl+Shift+j resize grow   height 5 px or 5 ppt
bindsym $mod+Ctrl+Shift+k resize shrink height 5 px or 5 ppt
bindsym $mod+Ctrl+Shift+l resize grow   width  5 px or 5 ppt

# split orientation
bindsym $mod+v split h; mark _move
bindsym $mod+s split v; mark _move

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+e layout stacking
bindsym $mod+t layout tabbed
bindsym $mod+r layout toggle split

# enter fullscreen mode for the focused container
bindsym $mod+f split v; focus parent; fullscreen toggle; focus child

# change window toggles
bindsym $mod+Shift+f floating toggle
bindsym $mod+Shift+s sticky   toggle

# change focus between tiling/floating, parent/child, and urgent windows
bindsym $mod+Space   focus mode_toggle
bindsym $mod+a       focus parent
bindsym $mod+Shift+a focus child
bindsym $mod+u       [urgent="latest"] focus

# marks
bindsym $mod+Shift+m unmark
bindsym $mod+m       exec i3-input -F "mark %s" -P "Mark: "

# sticky marks
bindsym $mod+Ctrl+Shift+m exec i3-input -F "exec i3-sticky-placeholder %s" -P "New Sticky Placeholder: "
bindsym $mod+Ctrl+m       exec i3-input -F "mark sticky_%s" -P "Set Sticky Mark: "


#
# workspaces
#

set $ws1  1
set $ws2  2
set $ws3  3
set $ws4  4
set $ws5  5
set $ws6  6
set $ws7  7
set $ws8  8
set $ws9  9
set $ws10 10

# switch to workspace
bindsym $mod+1 workspace number $ws1
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+6 workspace number $ws6
bindsym $mod+7 workspace number $ws7
bindsym $mod+8 workspace number $ws8
bindsym $mod+9 workspace number $ws9
bindsym $mod+0 workspace number $ws10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8
bindsym $mod+Shift+9 move container to workspace number $ws9
bindsym $mod+Shift+0 move container to workspace number $ws10


#
# window settings
#

# assign applications to workspaces
for_window [class="Slack"]   move to workspace $ws10
for_window [class="discord"] move to workspace $ws10
for_window [class="Spotify"] move to workspace $ws9

# floating windows
for_window [title="float"]                   floating enable
for_window [class="flameshot"]               floating enable
for_window [instance="gnome-tweaks"]         floating enable
for_window [instance="gnome-control-center"] floating enable
for_window [instance="VirtualBox Manager"]   floating enable


#
# scratchpads
#

# math scratchpad
for_window           [title="^math$"] move scratchpad
bindsym $mod+grave   [title="^math$"] scratchpad show
exec --no-startup-id $TERMINAL --title=math -e $HOME/.bin/calc.py

#
# desktop environment
#

# session
bindsym $mod+Shift+Ctrl+r  restart
bindsym $mod+Shift+r       reload
bindsym $mod+Shift+e       exec "i3-nagbar -t warning -m 'Exit?' -B Yes 'i3-msg exit'"

#
# colors
#

# class                 border  bground text    indicator child_border
client.focused          #15539E #15539E #FFFFFF #2E9EF4   #15539E
client.focused_inactive #333333 #353535 #FFFFFF #484E50   #5F676A
client.unfocused        #333333 #252525 #888888 #292D2E   #222222
client.urgent           #2F343A #900000 #FFFFFF #900000   #900000
client.placeholder      #000000 #0C0C0C #FFFFFF #000000   #0C0C0C
client.background       #FFFFFF


#
# bar
#

# bar
bar {
  status_command i3status

  colors {
    background #000000
    statusline #FFFFFF
    separator  #666666

    focused_workspace  #15539E #15539E #FFFFFF
    active_workspace   #333333 #222222 #FFFFFF
    inactive_workspace #333333 #222222 #888888
    urgent_workspace   #2F343A #900000 #FFFFFF
    binding_mode       #2F343A #900000 #FFFFFF
  }
}
